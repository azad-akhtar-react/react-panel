(this.webpackJsonpCNAPP=this.webpackJsonpCNAPP||[]).push([[11],{325:function(e,t,n){"use strict";n.r(t);var r=n(21),a=n(6),c=n(11),l=n(7),s=n(1),i=n.n(s),o=n(44),m=n(5),b=n(126),j=n(45),u=n.n(j),d=n(0),O=n.n(d);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=Object(s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,a=e.size,c=void 0===a?24:a,l=f(e,["color","size"]);return i.a.createElement("svg",h({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.a.createElement("polyline",{points:"10 9 9 9 8 9"}))}));p.propTypes={color:O.a.string,size:O.a.oneOfType([O.a.string,O.a.number])},p.displayName="FileText";var v=n(123),x=n(127),N=n(121),g=n(38),y=n(49),w=n(145),k=n(10);t.default=function(){var e=Object(o.b)(),t=Object(s.useState)(!1),n=Object(l.a)(t,2),i=n[0],j=n[1],d=Object(m.n)().id,O=Object(s.useState)({}),h=Object(l.a)(O,2),f=(h[0],h[1],Object(s.useState)("")),p=Object(l.a)(f,2),P=(p[0],p[1],Object(m.l)()),E=Object(N.a)(),S=Object(s.useState)(""),C=Object(l.a)(S,2),q=C[0],z=C[1],F=b.a().shape({name:b.b().required("Please enter name"),email:b.b().email().required("Please enter email"),phoneNumber:b.b().min(10).required("Please enter phone number")}),T=Object(v.e)({mode:"onChange",resolver:Object(x.a)(F)}),V=T.reset,A=T.control,D=T.handleSubmit,H=T.setValue,J=T.formState.errors;q.name&&(H("name",q.name),H("email",q.email),H("phoneNumber",q.phoneNumber));var L=function(){var t=Object(c.a)(Object(a.a)().mark((function t(n,r){var c,l,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),l={name:null===n||void 0===n?void 0:n.name,email:null===n||void 0===n?void 0:n.email,phoneNumber:null===n||void 0===n?void 0:n.phoneNumber,id:null===q||void 0===q?void 0:q.id},t.next=4,Object(w.d)({token:E},l);case 4:return null!==(s=t.sent)&&void 0!==s&&null!==(c=s.data)&&void 0!==c&&c.name?(j(!1),V(),e(Object(y.d)({isRefresh:!0})),u.a.success("Profile updated successfully"),P("/")):j(!1),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)({id:d,token:E});case 2:null!==(n=e.sent)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.name?(j(!1),z(null===n||void 0===n?void 0:n.data)):j(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){j(!0),R();var e=setTimeout((function(){return 3e3}));return function(){clearTimeout(e)}}),[]),i?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(s.Fragment,{children:Object(k.jsx)(g.c,{children:Object(k.jsx)("div",{className:"parent",children:Object(k.jsx)("div",{className:"myHeight",children:Object(k.jsx)(g.D,{color:"success"})})})})})}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(s.Fragment,{children:Object(k.jsxs)(g.c,{children:[Object(k.jsx)(g.e,{className:"flex-md-row flex-column align-md-items-center align-items-start",children:Object(k.jsx)(g.f,{tag:"h4",children:"Update Profile"})}),Object(k.jsx)(g.d,{children:Object(k.jsx)(g.l,{onSubmit:D((function(e){Object.values(e).every((function(e){return e.length>0}))&&L(e)})),children:Object(k.jsxs)(g.C,{children:[Object(k.jsx)(g.g,{md:"6",sm:"12",className:"mb-1",children:Object(k.jsxs)("div",{className:"mb-1",children:[Object(k.jsx)(g.q,{className:"form-label",for:"name",children:"Name"}),Object(k.jsx)(v.a,{id:"name",name:"name",defaultValue:"",control:A,render:function(e){var t=e.field;return Object(k.jsx)(g.n,Object(r.a)(Object(r.a)({className:""},t),{},{placeholder:"Name",invalid:J.name&&!0}))}}),J.name&&Object(k.jsx)(g.m,{children:J.name.message})]})}),Object(k.jsx)(g.g,{md:"6",sm:"12",className:"mb-1",children:Object(k.jsxs)("div",{className:"mb-1",children:[Object(k.jsx)(g.q,{className:"form-label",for:"email",children:"Email"}),Object(k.jsx)(v.a,{id:"email",name:"email",defaultValue:"",control:A,render:function(e){var t=e.field;return Object(k.jsx)(g.n,Object(r.a)(Object(r.a)({className:""},t),{},{placeholder:"Email",invalid:J.email&&!0}))}}),J.email&&Object(k.jsx)(g.m,{children:J.email.message})]})}),Object(k.jsx)(g.g,{md:"6",sm:"12",className:"mb-1",children:Object(k.jsxs)("div",{className:"mb-1",children:[Object(k.jsx)(g.q,{className:"form-label",for:"phoneNumber",children:"Phone Number"}),Object(k.jsx)(v.a,{id:"phoneNumber",name:"phoneNumber",defaultValue:"",control:A,render:function(e){var t=e.field;return Object(k.jsx)(g.n,Object(r.a)(Object(r.a)({className:""},t),{},{placeholder:"Phone Number",invalid:J.phoneNumber&&!0}))}}),J.phoneNumber&&Object(k.jsx)(g.m,{children:J.phoneNumber.message})]})}),Object(k.jsx)(g.g,{sm:"12",children:Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsx)(g.b,{className:"me-1",color:"dark",onClick:function(){history.back()},children:"Cancel"}),Object(k.jsx)(g.b,{className:"me-1",color:"success",type:"submit",children:i?Object(k.jsx)(g.D,{color:"light",size:"sm"}):"Save"})]})})]})})})]})})})}}}]);
//# sourceMappingURL=11.0990f984.chunk.js.map